/// This is a persistent class that stores text data and the vectors of those text data. Thus, it has two columns.
Class vectors.embeddings Extends %Persistent [ ClassType = persistent, DdlAllowed, Final, Owner = {_SYSTEM}, ProcedureBlock, SqlRowIdPrivate, SqlTableName = embeddings ]
{

Property text As %Library.String(MAXLEN = 2000) [ SqlColumnNumber = 2 ];

// Declaring a length for vectors is necessary, else vector search can't be performed.

Property vectors As %Library.Vector(DATATYPE = "DOUBLE", LEN = 800) [ SqlColumnNumber = 3 ];

Parameter USEEXTENTSET = 1;

/// Bitmap Extent Index auto-generated by DDL CREATE TABLE statement.  Do not edit the SqlName of this index.
Index DDLBEIndex [ Extent, SqlName = "%%DDLBEIndex", Type = bitmap ];

Storage Default
{
<Data name="_GBL_vectors">
<Attribute>vectors</Attribute>
<DataDefinitionLocation>^EF2h.lrda.1.P1</DataDefinitionLocation>
<Structure>node</Structure>
<Value name="1">
<Value>vectors</Value>
</Value>
</Data>
<Data name="embeddingsDefaultData">
<Value name="1">
<Value>text</Value>
</Value>
</Data>
<DataLocation>^EF2h.lrda.1</DataLocation>
<DefaultData>embeddingsDefaultData</DefaultData>
<ExtentLocation>^EF2h.lrda</ExtentLocation>
<IdLocation>^EF2h.lrda.1</IdLocation>
<Index name="DDLBEIndex">
<Location>^EF2h.lrda.2</Location>
</Index>
<Index name="IDKEY">
<Location>^EF2h.lrda.1</Location>
</Index>
<IndexLocation>^EF2h.lrda.I</IndexLocation>
<StreamLocation>^EF2h.lrda.S</StreamLocation>
<Type>%Storage.Persistent</Type>
}

}
